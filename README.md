# Стажировочное задание. Весна-2019.

## Инструкция по запуску:  
1) Настроить базу данных  
  1.1)  
2) Собрать проект  
3) Установить проект в ServiceMix  
  3.1) Запустить ServiceMix  
  3.2) Переместить feature/target/feature-1.0.0.kar в servicemix/deploy  


## Описание модулей:  
  1) feature  
    Нужен для того, чтобы собирать kar-файл.  
  2) connector-db  
    Создаёт подключение к базе данных.  
  3) user  
    Обеспечивает работу с сущностью Пользователь  
    3.1) user-service  
      REST-api для создания, поиска и фильтрации пользователей  
    3.2) user-validator  
      Валидация пользователей  
    3.3) user-dao  
      Осуществляет запись в базу данных и извлекает из неё информацию.  
    3.4) user-model  
      Предоставляет общие для модуля модели.  
  4) address  
    Обеспечивает работу с сущностью Адрес  
    3.1) address-service  
      REST-api для создания, поиска и фильтрации адресов  
    3.2) address-validator  
      Валидация адресов  
    3.3) address--dao  
      Осуществляет запись в базу данных и извлекает из неё информацию.  
    3.4) address--model  
      Предоставляет общие для модуля модели.  

## Описание REST-запросов

[GET] http://localhost:8181/cxf/userservice/users/{passport}  
Получить пользователя, указав номер паспорта.  
### Входные параметры.  
Параметр |                 Описание                    |              Ограничения
---------|---------------------------------------------|---------------------------------------
passport | Номер паспорта запрашиваемого пользователя. | Целое положительное 10-значное число.
### Выходные данные
Возвращает пользователя в формате XML.  
Пример.  
```
<User>  
  <id>id</id>  
  <name>name</name>  
  <surname>surName</surname>  
  <patronymic>patronymic</patronymic>  	
  <birthday>birthday</birthday>  
  <passportNumber>passport</passportNumber>  
  <income>income</income>  
</User>
```
Описание тегов.  
Тег      |                 Описание                    |              Формат
---------|---------------------------------------------|---------------------------------------
id       | Id пользователя.                            | Целое положительное число.
name     | Имя пользователя.                           | Строка.


---

[POST] http://localhost:8181/cxf/userservice/users/
Создать нового пользователя  
### Входные параметры.  
Параметр |                 Описание                    |              Ограничения
---------|---------------------------------------------|---------------------------------------
xml-content  | Пользователья для создания | Данные в XML-формате как описано выше.
### Выходные данные
Возвращает id созданного пользователя в формате XML.  
Пример.  
```
<User>  
  <id>id</id>  
</User>
```
Описание тегов.  
Тег      |                 Описание                    |              Формат
---------|---------------------------------------------|---------------------------------------
id       | Id пользователя.                            | Целое положительное число.
